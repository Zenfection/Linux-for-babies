# Quáº£n lÃ­ file

## 1. ThÆ° má»¥c cÃ¢y

File há»‡ thá»‘ng cá»§a Linux Ä‘áº·t ra nhÆ° má»™t "<u>thÆ° má»¥c cÃ¢y</u>"**(directory tree)**. CÃ³ má»™t thÆ° má»¥c root (kÃ½ hiá»‡u **/**), vá»›i má»i thÆ° má»¥c khÃ¡c cÃ³ "nguá»“n gá»‘c" thÆ° má»¥c, vÃ  má»—i thÆ° má»¥c Ä‘á»u chá»©a cÃ¡c thÆ° má»¥c Ä‘Æ¡n

ÄÃ¢y chÃ­nh lÃ  biá»ƒu Ä‘á»“ cá»§a thÆ° má»¥c cÃ¢y:

```textile
/
|â€”â€” bin
|â€”â€” dev
|â€”â€” usr
|    |â€”â€” bin
|    |â€”â€” lib
|    |â€”â€” libexec
|    |â€”â€” local
|    |â€”â€” sbin
|    |â€”â€” share
|...
|...
```

Váº­y dáº¥u **/** lÃ  má»™t thÆ° má»¥c, **<u>usr</u>** lÃ  thÆ° má»¥c cÃ³ nguá»“n gá»‘c tá»« **/**, lib lÃ  thÆ° má»¥c cÃ³ nguá»“n gá»‘c tá»« **<u>usr</u>** vÃ  cá»© nhÆ° tháº¿. DÃ¹ng dáº¥u **/** Ä‘á»ƒ chá»‰ vÃ o thÆ° má»¥c tÆ°Æ¡ng á»©ng nhÆ° **<u>/usr/lib</u>**

ÄÆ°á»ng dáº«n nhÆ° /usr/lib Ä‘Æ°á»£c gá»i lÃ  "**Ä‘Æ°á»ng dáº«n tuyá»‡t Ä‘á»‘i**" **(absolute path)** ká»ƒ tá»« khi Ä‘Æ°á»ng dáº«n Ä‘Æ°á»£c chá»‰ Ä‘á»‹nh rÃµ rÃ ng Ä‘áº§y Ä‘á»§ báº¯t Ä‘áº§u tá»« thÆ° má»¥c root **/**.

#### Äáº·c tÃ­nh cá»§a thÆ° má»¥c con . vÃ  ..

Má»i thÆ° má»¥c Ä‘iá»u cÃ³ 2 Ä‘áº·c tÃ­nh thÆ° má»¥c con "virtual": **<mark>.</mark>** vÃ  **<mark>..</mark>**

ChÃºng ta Ä‘Ã£ sá»­ dá»¥ng thÆ° má»¥c con theo cÃ¡ch relative hoáº·c reflexive. Dáº¥u **<mark>.</mark>** trong thÆ° má»¥c luÃ´n luÃ´n chá»‰ tá»›i tá»›i **"thÆ° má»¥c hiá»‡n táº¡i"** vÃ  tÆ° má»¥c hiá»‡n táº¡i luÃ´n luÃ´n chá»‰ tá»›i **"thÆ° má»¥c gá»‘c"**

Váº­y, vÃ­ dá»¥ nhÃ©: <u>**/usr/share..**</u> lÃ  má»™t Ä‘Æ°á»ng dáº«n thÆ° má»¥c há»£p lá»‡ vÃ  chá»‰ tá»›i thÆ° má»¥c gá»‘c cá»§a **<u>/usr/share</u>** .

**<mark>.</mark>** vÃ  **<mark>..</mark>** Ä‘Æ°á»£c sá»­ dá»¥ng nhiá»u khi Ä‘iá»u hÆ°á»›ng táº­p tin há»‡ thá»‘ng **(file system)** tá»« dÃ²ng lá»‡nh. VÃ­ dá»¥ **<mark>cd ..</mark>** sáº½ khiáº¿n cho shell Ä‘á»•i tá»« thÆ° má»¥c hiá»‡n táº¡i sang tÆ° má»¥c gá»‘c.

## 2. Xem nhiá»u tá»‡p tin vá»›i Wildcards

Khi xem xÃ©t nhiá»u files tá»« dÃ²ng lá»‡nh. báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng kÃ½ tá»± wildcard nhÆ° **<mark>*</mark>** vÃ  **<mark>?</mark>** chá»‰ Ä‘áº¿n nhÃ³m cá»§a file Ä‘Ã³ (gá»i lÃ  glods).

#### Dáº¥u * Wildcard

Dáº¥u **<mark>*</mark>** Wildcard Ä‘Æ°á»£c hiá»ƒu lÃ  "báº¥t ká»³ sá»‘ kÃ½ tá»± bao gá»“m cáº£ none". 

**<u>VÃ­ dá»¥:</u>** Náº¿u báº¡n muá»‘n di chuyá»ƒn má»i file vá»›i Ä‘uÃ´i **<u>.mp3</u>** tá»« thÆ° má»¥c hiá»‡n táº¡i Ä‘áº¿n thÆ° má»¥c **<u>~/music</u>**, báº¡n cÃ³ thá»ƒ cháº¡y nhá»¯ng dÃ²ng lá»‡nh sau:

```shell
$ mv *.mp3 ~/music
```

#### Dáº¥u ? Wildcard

Dáº¥u ? Wildcard phÃ¹ há»£p vá»›i báº¥t ká»³ kÃ½ tá»± duy nháº¥t. 

**<u>VÃ­ dá»¥:</u>** **<mark>???</mark>** sáº½ khá»›p vá»›i má»i tá»‡p vá»›i tÃªn cÃ³ duy nháº¥t 3 kÃ½ tá»±

#### Dáº¥u [...] Wildcard

Báº¡n cÅ©ng cÃ³ thá»ƒ dÃ¹ng nÃ³ vá»›i cÃ¡i kÃ½ tá»± cá»¥ thá»ƒ

**<u>VÃ­ dá»¥:</u>** **.*mp[34]** sáº½ láº¥y báº¥t ká»³ file nÃ y cÃ³ Ä‘uÃ´i mp3 vÃ  mp4

Â Â Â Â Â Â Â Â Â Â Â Â **[CcBb]at** sáº½ láº¥y **Cat,cat,Bat **vÃ  **bat**

#### HÃ£y cáº©n tháº­n vá»›i khoáº£ng tráº¯ng

HÃ£y cáº©n tháº­n khi sá»­ dá»¥ng * nhÆ° khoáº£ng tráº¯ng Ä‘áº·t sai hoáº·c kÃ½ tá»± nÃ o Ä‘Ã³ cÃ³ thá»ƒ gÃ¢y lá»—i.

ChÃº Ã½ khoáº£ng tráº¯ng giá»¯a * vÃ  .mp3:

```shell
$ mv * .mp3 ~/music
```

CÃ¡i nÃ y sáº½ di chuyá»ƒn táº¥t cáº£ cÃ¡c file cÃ³ ***** vÃ  file cÃ³ tÃªn **.mp3** Ä‘áº¿n thÆ° má»¥c **<u>~/music</u>**. NhÆ°ng má»i file Ä‘á»u cÃ³ *****, nÃªn chÃºng ta cÃ³ thá»ƒ sáº½ pháº£i di chuyá»ƒn táº¥t cáº£ má»i file sang thÆ° má»¥c **<u>~music </u>**.

TÆ°Æ¡ng tá»± tháº¿, HÃ£y tÆ°á»Ÿng tÆ°á»£ng sá»± khÃ¡c nhau giá»¯a **<u>rm *.mp3</u>** ***(loáº¡i bá» cÃ¡i file mp3)*** vÃ  **<u>rm * .mp3</u>** ***(nÃ³ vÃ´ tÃ¬nh loáº¡i bá» táº¥t cáº£ file)***

| ğŸŒ[TÃ¬m hiá»ƒu thÃªm](http://www.tldp.org/LDP/GNU-Linux-Tools-Summary/html/x11655.htm) |
| ---------------------------------------------------------------------------------- |

## 3. Sá»­ dá»¥ng which Ä‘á»ƒ tÃ¬m thá»±c thi

Khi báº¡n gÃµ tÃªn cá»§a má»™t chÆ°Æ¡ng trÃ¬nh trong **shell prompt**, **shell**cá»§a báº¡n sáº½ sá»­ dá»¥ng biáº¿n mÃ´i trÆ°á»ng **PATH** Ä‘á»ƒ xÃ¡c Ä‘á»‹nh thá»±c thi nÃ o sáº½ cháº¡y. Sáº½ Ä‘á»c nhanh sÆ¡ qua táº¥t cáº£ cÃ¡c thÆ° má»¥c Ä‘Ã£ liá»‡t kÃª trong **PATH** cá»§a báº¡n, lÃ m sao báº¡n biáº¿t cÃ¡i nÃ o trong **shell** cá»§a báº¡n Ä‘á»ƒ thá»±c thi?

ÄÃ³ chÃ­nh lÃ  nhá»¯ng gÃ¬ mÃ  lá»‡nh **<mark>which</mark>** thá»±c hiá»‡n. Äáº·t tÃªn cá»§a má»™t chÆ°Æ¡ng trÃ¬nh, which sáº½ tráº£ vá» 1 Ä‘Æ°á»ng dáº«n Ä‘áº§y Ä‘á»§ Ä‘á»ƒ thá»±c thi lá»‡nh. HÃ£y nhÃ¬n dÆ°á»›i Ä‘Ã¢y:

![AÌ‰nh chuÌ£p MaÌ€n hiÌ€nh 2020-07-31 luÌc 14.22.31.png](https://raw.githubusercontent.com/Zenfection/Image/master/2020/07/31-14-22-38-A%CC%89nh%20chu%CC%A3p%20Ma%CC%80n%20hi%CC%80nh%202020-07-31%20lu%CC%81c%2014.22.31.png)

Äiá»u nÃ y cho tÃ´i biáº¿t ráº±ng khi tÃ´i gÃµ **ps** táº¡i **terminal** thÃ¬ shell cá»§a tÃ´i sáº½ cháº¡y lá»‡nh thá»±c thi á»Ÿ Ä‘Æ°á»ng dáº«n <u>**/bin/ps**</u>.

<u>**LÆ°u Ã½:**</u> nhá»¯ng Ä‘Æ°á»ng dáº«n nÃ y hoÃ n toÃ n lÃ  giáº£ thuyáº¿t vÃ  báº¡n cÃ³ thá»ƒ khÃ´ng tháº¥y cÃ¹ng má»™t Ä‘áº§u ra trÃªn há»‡ thá»‘ng cá»§a riÃªng báº¡n.

CÃ³ 2 trÆ°á»ng há»£p chÃ­nh Ä‘á»ƒ báº¡n dÃ¹ng **<mark>which</mark>** : 

1. Báº¡n cÃ³ tÃªn cá»§a lá»‡nh thá»±c thi nhÆ°ng báº¡n muá»‘n tÃ¬m Ä‘Æ°á»ng dáº«n cá»¥ thá»ƒ cá»§a nÃ³
2. Báº¡n cÃ³ nhiá»u chÆ°Æ¡ng trÃ¬nh Ä‘Æ°á»£c cÃ i Ä‘áº·t nhÆ°ng báº¡n khÃ´ng cháº¯c chÆ°Æ¡ng trÃ¬nh nÃ o trong sá»‘ Ä‘Ã³ cÃ³ thá»ƒ thá»±c thi

**TrÆ°á»ng há»£p 2** ráº¥t thÆ°á»ng dÃ¹ng cÃ´ng cá»¥ Ä‘á»ƒ gá»¡ lá»—i, Ä‘áº·c biá»‡t náº¿u báº¡n Ä‘Ã£ tá»«ng thá»­ thiáº¿t láº­p mÃ´i trÆ°á»ng phÃ¡t triá»ƒn nÆ¡i mÃ  báº¡n cÃ³ thá»ƒ cÃ³ nhiá»u trÃ¬nh biÃªn dá»‹ch / thÃ´ng dá»‹ch... cháº³ng háº¡n nhÆ° python 3.8.5, gcc 10.1... 

## 4. Sá»­ dá»¥ng find Ä‘á»ƒ tÃ¬m kiáº¿m báº±ng tÃªn file

Lá»‡nh **<mark>find</mark>** Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¬m kiáº¿m files trÃªn mÃ¡y tÃ­nh. Má»™t trong nhá»¯ng Ä‘iá»u phá»• biáº¿n nháº¥t lÃ  sá»­ dá»¥ng Ä‘á»ƒ lÃ  tÃ¬m kiáº¿m file dá»±a trÃªn tÃªn cá»§a nÃ³, máº·c dÃ¹ nÃ³ cÃ³ cÃ²n lÃ m Ä‘Æ°á»£c nhiá»u thá»© hÆ¡n tháº¿.

ÄÃ¢y lÃ  má»™t vÃ­ dá»¥ nhá»: báº¡n sáº½ in ra tÃªn cá»§a má»i file cÃ³ Ä‘uÃ´i mp4 trong thÆ° má»¥c Downloads

```shell
$ cd Downloads
$ find . -name "*.mp4"
```

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2020/07/31-14-39-17-A%CC%89nh%20chu%CC%A3p%20Ma%CC%80n%20hi%CC%80nh%202020-07-31%20lu%CC%81c%2014.39.13.png" title="" alt="AÌ‰nh chuÌ£p MaÌ€n hiÌ€nh 2020-07-31 luÌc 14.39.13.png" width="607">

Báº¡n hÃ£y nhá»› láº¡i ráº±ng dáº¥u **.** lÃ  tÆ°á»£ng trÆ°ng cho "thÆ° má»¥c hiá»‡n táº¡i". Báº¡n cÃ³ thá»ƒ thay Ä‘á»•i dáº¥u **.** bá»Ÿi báº¥t ká»³ tÃªn thÆ° má»¥c nÃ o vÃ  lá»‡nh **<mark>find</mark>** sáº½ cháº¡y Ä‘á»ƒ tÃ¬m kiáº¿m nÃ³.

Tá»« **<mark>-name</mark>** Ä‘á»ƒ nÃ³i cho lá»‡nh find ráº±ng nÃ³ tÃ¬m kiáº¿m dá»±a trÃªn tÃªn file vÃ  yÃªu cáº§u má»™t máº«u khá»›p vá»›i file. Trong trÆ°á»ng há»£p nÃ y "*.mp4" sáº½ lÃ  máº«u file cÃ³ báº¥t ká»³ Ä‘uÃ´i nÃ o lÃ  .mp4

#### Háº¡n cháº¿ kiá»ƒu file

ÄÃ´i khi báº¡n chá»‰ muá»‘n tÃ¬m kiáº¿m file vÃ  khÃ´ng cÃ³ thÆ° má»¥c hoáº·c ngÆ°á»£c láº¡i. Lá»‡nh <mark>**-type**</mark> cho phÃ©p chÃºng chá»‰ Ä‘á»‹nh cÃ³ nÃªn tÃ¬m kiáº¿m cÃ¡c file hay chá»‰ cÃ¡c thÆ° má»¥c

ÄÃ¢y lÃ  lá»‡nh tÃ¬m má»i file (nhÆ°ng khÃ´ng cÃ³ thÆ° má»¥c) mÃ  tÃªn cá»§a nÃ³ chá»©a chuá»—i "user":

```shell
$ find . -type f -name "*user*"
```

Náº¿u chÃºng ta muá»‘n tÃ¬m thÆ° má»¥c, chÃºng ta cÃ³ thá»ƒ dÃ¹ng lá»‡nh **<mark>-type d</mark>** Ä‘á»ƒ **<mark>find</mark>**.

Do Ä‘Ã³, trong vÃ­ dá»¥ Ä‘áº§u tiÃªn, náº¿u báº¡n muá»‘n tÃ¬m file ká»¹ hÆ¡n má»™t tÃ½, tÃ¬m táº¥t cáº£ file cÃ³ Ä‘uÃ´i lÃ  mp4 báº¡n sáº½ sá»­ dá»¥ng lá»‡nh sau Ä‘Ã¢y:

```shell
$ find . -type f -name "*.mp4"
```

| [TÃ¬m hiá»ƒu thÃªm](https://www.tecmint.com/35-practical-examples-of-linux-find-command/) |
| ------------------------------------------------------------------------------------- |

## 5. Sá»­ dá»¥ng find Ä‘á»ƒ tÃ¬m kiáº¿m báº±ng kÃ­ch thÆ°á»›c file

Lá»‡nh **<mark>find</mark>** Ä‘Æ°á»£c sá»­ dá»¥ng tÃ¬m kiáº¿m file trÃªn mÃ¡y tÃ­nh cá»§a báº¡n. NÃ³ thÆ°á»ng sá»­ dá»¥ng nhiá»u Ä‘á»ƒ tÃ¬m kiáº¿m báº±ng kÃ­ch thÆ°á»›c file... náº¿u báº¡n muá»‘n tÃ¬m xoÃ¡ cÃ¡c tá»‡p lá»›n.

ÄÃ¢y lÃ  lá»‡nh Ä‘á»ƒ tÃ¬m táº¥t cáº£ file lá»›n hÆ¡n 100MB trong thÆ° má»¥c hiá»‡n táº¡i:

```shell
$ find . -type f -size +100M
```

Dáº¥u **+** trong **<mark>+100M</mark>** biá»ƒu diá»…n cho **"Ã­t nháº¥t 100MB"**. Náº¿u thay vÃ o Ä‘Ã³ chÃºng ta sá»­ dá»¥ng **<mark>-size100MB</mark>**, **<mark>find</mark>**  sáº½ chá»‰ tÃ¬m nhá»¯ng file cÃ³ Ä‘Ãºng 100MB (chá»© khÃ´ng cÃ³ khoáº£ng 100MB)

Äáº§u ra cá»§a lá»‡nh nÃ y sáº½ liá»‡t kÃª cÆ¡ báº£n cá»§a tÃªn file mÃ  khÃ´ng cÃ³ báº¥t ká»³ thÃ´ng tin kÃ­ch thÆ°á»›c nÃ o. Äá»ƒ bao gá»“m nhiá»u thÃ´ng tin hÆ¡n chÃºng ta sáº½ dÃ¹ng lá»‡nh nhÆ° sau:

```shell
$ find . -size +100M -exec ls -lh {} \;
```

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2020/07/31-15-10-36-A%CC%89nh%20chu%CC%A3p%20Ma%CC%80n%20hi%CC%80nh%202020-07-31%20lu%CC%81c%2015.10.32.png" title="" alt="AÌ‰nh chuÌ£p MaÌ€n hiÌ€nh 2020-07-31 luÌc 15.10.32.png" width="575">

Lá»±a chá»n **<mark>-exec</mark>** Ä‘á»ƒ cho **<mark>find**</mark> thá»±c hiá»‡n cá»¥ thá»ƒ lá»‡nh cho tá»«ng káº¿t quáº£, thay tháº¿ dáº¥u **<mark>{}</mark>** vá»›i tÃªn cá»§a file. Dáº¥u **<mark>\;</mark>** chá»‰ rÃµ cuá»‘i cÃ¹ng cá»§a dÃ²ng lá»‡nh sáº½ Ä‘Æ°á»£c thá»±c hiá»‡n.

Trong trÆ°á»ng há»£p nÃ y, tÃ´i gá»i **<mark>ls -lh</mark>** cho tá»«ng tÃ´i tÃ´i tÃ¬m. trong <mark>**ls**</mark>, **<mark>-l</mark>** sáº½ xuáº¥t ra mÃ n hÃ¬nh bao gá»“m cÃ¡i kÃ­ch thÆ°á»›c file, quyá»n file, vÃ  chi tiáº¿t khÃ¡c. **<mark>-h</mark>** sáº½ sáº½ gá»i ls Ä‘á»‹nh dáº¡ng láº¡i kÃ­ch thÆ°á»›c file cho mÃ¬nh dá»… hiá»ƒu. VÃ­ dá»¥ náº¿u khÃ´ng cÃ³ **<mark>-h</mark>** sáº½ lÃ  **576716800 (576716800 bytes)** cÃ²n cÃ³ <mark>**-h**</mark> sáº½ lÃ  **550M (550MB)**.

**<u>ChÃº Ã½:</u>** báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng báº¥t ká»³ dÃ¹ng lá»‡nh nÃ o vá»›i **-exec** mÃ  khÃ´ng chá»‰ **ls**.

| ğŸ”™Â [BÃ i 3.Váº­nÂ dá»¥ngÂ biáº¿nÂ mÃ´iÂ trÆ°á»ng](https://github.com/Zenfection/Linux-for-babies/blob/master/NgÆ°á»i%20dÃ¹ng%20vÃ %20quáº£n%20lÃ­%20file/3.Váº­n%20dá»¥ng%20biáº¿n%20mÃ´i%20trÆ°á»ng.md) | [BÃ i 5.Quyá»nÂ truyÂ cáº­pÂ file](https://github.com/Zenfection/Linux-for-babies/blob/master/NgÆ°á»i%20dÃ¹ng%20vÃ %20quáº£n%20lÃ­%20file/5.Quyá»n%20truy%20cáº­p%20file.md)Â ğŸ”œ |
| -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------- |
