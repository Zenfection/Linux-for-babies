# Quyá»n truy cáº­p ngÆ°á»i dÃ¹ng

## 1. Users vÃ  Groups trong Linux

Linux lÃ  má»™t há»‡ Ä‘iá»u hÃ nh cÃ³ nhiá»u ngÆ°á»i dÃ¹ng, giá»‘ng nhÆ° nhá»¯ng há»‡ Ä‘iá»u hÃ nh nhiá»u ngÆ°á»i dÃ¹ng khÃ¡c, nÃ³ lÃ  khÃ¡i niá»‡m cá»§a `permissions`, vÃ¬ theo máº·c Ä‘á»‹nh, ngÆ°á»i ta khÃ´ng muá»‘n má»™t ngÆ°á»i dÃ¹ng cÃ³ thá»ƒ chá»‰nh sá»­a cÃ¡c **files** cá»§a ngÆ°á»i dÃ¹ng khÃ¡c. CÃ³ 2 khÃ¡i niá»‡m chÃ­nh cho `permissions` lÃ  : `users` vÃ  `groups`.

`Groups` lÃ  táº­p há»£p tá»« 0 tá»›i nhiá»u `users` vÃ  má»™t `users` cÃ³ thá»ƒ cÃ³ nhiá»u `groups`. **Files**, **directory** vÃ  file thá»±c thi... cÃ³ thá»ƒ cáº¥p quyá»n cáº£ `users` vÃ  `groups`

Má»™t sá»‘ **vÃ­ dá»¥:**

1. NgÆ°á»i ta cÃ³ thá»ƒ táº¡o ra má»™t `group` gá»i lÃ  **`print`** mÃ  cÃ¡c thÃ nh viÃªn cÃ³ thá»ƒ sá»­ dá»¥ng mÃ¡y in khi Ä‘Æ°á»£c gáº¯n vÃ o mÃ¡y tÃ­nh
2. NgÆ°á»i ta cÃ³ thá»ƒ táº¡o ra má»™t `group` gá»i lÃ  `log` mÃ  cÃ¡c thÃ nh viÃªn cÃ³ quyá»n truy cáº­p vÃ o Ä‘á»c **file** trong **``/var/log``**.
3. NgÆ°á»i ra cÃ³ thá»ƒ táº¡o ra má»™t `group` gá»i lÃ  `ssh` mÃ  cÃ¡c thÃ nh viÃªn cÃ³ quyá»n Ä‘Äƒng nháº­p Ä‘iá»u khiá»ƒn thÃ´ng qua **SSH**

ÄÃ³ lÃ  nhá»¯ng vÃ­ dá»¥ cá»§a `group`. NgÆ°á»i ta cÃ³ thá»ƒ thay Ä‘á»•i cÃ¡c **files** cá»¥ thá»ƒ vÃ  thay Ä‘á»•i `permissions` cá»§a há»‡ thá»‘ng cÅ©ng nhÆ° mÃ´ táº£, táº¥t cáº£ Ä‘á»u cÃ³ thá»ƒ.

### Danh sÃ¡ch `Groups`

**file** **``/etc/group``** chá»©a danh sÃ¡ch má»i `group` trong há»‡ thá»‘ng. HÃ£y cháº¡y lá»‡nh **`cat /etc/group`** báº¡n sáº½ tháº¥y Ä‘Æ°á»£c toÃ n bá»™ danh sÃ¡ch cá»§a `group` (hoáº·c cháº¡y lá»‡nh **`less /etc/group`** Ä‘á»ƒ trÃ£i nghiá»‡m thao tÃ¡c tá»‘t hÆ¡n).

Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh **`groups`** Ä‘á»ƒ tháº¥y ngÆ°á»i dÃ¹ng Ä‘ang á»Ÿ group nÃ o nhÆ° sau:

```shell
$ groups Zenfection
Zenfection : admin www-data rvm
$
```

**`Zenfection`** lÃ  tÃªn ngÆ°á»i dÃ¹ng, vÃ  á»Ÿ Ä‘Ã¢y cÃ³ 3 group gá»“m : **`admin`**, **`www-data`** vÃ  **`rvm`**.

---

## 2. File Ownership

Trong Linux, má»i **file** vÃ  **directory** Ä‘á»u Ä‘Æ°á»£c `user owner` vÃ  `group owner`. Báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh **`ls -l`** hoáº·c **`ls -ld`** Ä‘á»ƒ xem quyá»n sá»Ÿ há»¯u cá»§a **files** hoáº·c **`directory`**.

Xem **vÃ­ dá»¥** sau:

```shell
ls -ld /var/log
drwrwxr-x 10 root syslog
    4096 Jun 13 06:25 /var/log
ls -l /var/log/syslog
-rw-r
```

| ğŸŒÂ [TÃ¬m hiá»ƒu thÃªm](https://wiki.archlinux.org/index.php/File_permissions_and_attributes) |
| ---------------------------------------------------------------------------------------- |

---

## 3. Thay Ä‘á»•i Ownership báº±ng **`chown`**

Lá»‡nh **`chown`** cho phÃ©p chugn1 ta thay Ä‘á»•i Ä‘á»“ng thá»i `user` vÃ  `group` cá»§a chá»§ sá»¡ há»¯u cá»§a **files** vÃ  **directories**. Cháº¡y lá»‡nh nÃ y cáº§n pháº£i cÃ³ quyá»n **`root`** nÃªn pháº£i kÃ¨m lá»‡nh **`sudo`**

Äá»ƒ thay Ä‘á»•i `user` lÃ  chá»§ sá»¡ há»¯a má»™t file cá»¥ thá»ƒ cháº¡y nhá»¯ng dÃ²ng lÃªnh sau: 

```shell
sudo chown [username] /path/to/some/file
```

Äá»ƒ thay Ä‘á»•i cáº£ `user` vÃ  `group` hÃ£y cháº¡y lá»‡nh sau: (Ä‘iá»n thÃ´ng tin trong dáº¥u **`[]`**)

```shell
sudo chown [username]:[new-group] /path/to/some/file
```

Äá»ƒ chá»‰ thay Ä‘á»•i group cháº¡y lÃªnh sau:

```shell
sudo chown :[new-group] /path/to/some/file 
```

> ğŸ’¡ Náº¿u báº¡n khÃ´ng khÃ´ng cÃ³ quyá»n **`root`**, báº¡n cÃ³ thá»ƒ thay Ä‘á»•i `permissions` cá»§a file báº±ng cÃ¡ch sá»­ dá»¥ng lá»‡nh **`chmod`**. **Náº¿u báº¡n lÃ  chá»§ sá»Ÿ há»¯a cá»§a file Ä‘Ã³** thÃ¬ Ä‘Æ°á»£c. Báº¡n khÃ´ng thá»ƒ thay Ä‘á»•i `ownership` (vá»›i lá»‡nh **`chown`** hoáº·c **`chgrp`**) mÃ  khÃ´ng cÃ³ quyá»n **`root`**
