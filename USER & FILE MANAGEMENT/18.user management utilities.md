# Tiá»‡n Ã­ch quáº£n lÃ­ ngÆ°á»i dÃ¹ng

## 1. LÃ m quen cÃ¡c cÃ¢u lá»‡nh vá»›i **`type`**

lá»‡nh **`type`** Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ phÃ¢n biá»‡t cÃ¡ch lá»‡nh *builtin* vÃ  *nhá»‹ phÃ¢n bÃªn ngoÃ i*

Sau Ä‘Ã³, báº¡n cÃ³ thá»ƒ tÃ¬m **types** khÃ¡c nhau cá»§a dÃ²ng lá»‡nh:

TÃ¬m má»™t **alias**:

```shell
$ type ls
ls is aliased to 'ls --color=auto'
```

TÃ¬m má»™t **file**:

```shell
$ type rm
rm is /bin/rm
```

TÃ¬m má»™t **builtin**:

```shell
$ type cd
cd is a shell builtin
```

TÃ¬m má»™t chá»©c nÄƒng (**function**):

```shell
$ type psgrep
psgrep is a function
psgrep ()
{
    ps -ef | {
        read -r;
        echo "$REPLY";
        grep --color=auto "$@"
    }
}
```

Báº¡n cÅ©ng cÃ³ thá»ƒ kiá»ƒm tra **type** cá»§a **`type`**:

```shell
$ type type
type is a shell builtin
```

---

## 2. Láº­p chá»‰ má»¥c file nhanh chÃ³ng vá»›i **`updatedb`** vÃ  **`locate`**

Lá»‡nh **`updatedb`** Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ chá»‰ má»¥c cho **files** trong **file** há»‡ thá»‘ng cá»§a báº¡n vÃ  lá»‡nh **`locate`** Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ tÃ¬m kiáº¿m **files** hiá»‡u quáº£, hÃ£y sá»­ dá»¥ng nhá»¯ng thá»© Ä‘Ã³

Táº¡o chá»‰ má»¥c báº±ng **`sudo`**:

```shell
$ sudo updatedb
```

Äá»‹nh vá»‹ **file** ``kietdeptrai.conf`` báº±ng chá»‹c má»¥c:

```shell
$ locate kietdeptrai.conf
```

Äá»ƒ giá»¯ cho cÆ¡ sá»Ÿ dá»¯ liá»‡u Ä‘Æ°á»£c cáº­p nháº­t nÃ³, báº¡n nÃªn thÃªm chá»‰ thá»‹ trÃªn **crontab** cá»§a **`root`** nhÆ° sau:

Äáº§u tiÃªn:

```shell
$ crontab -e
```

vÃ  thÃªm cÃ¡i nÃ y vÃ o cuá»‘i dÃ²ng:

```shell
0 5 * * * updatedb
```

Lá»‡nh **`updatedb`** vÃ  **`locate`** Ä‘Æ°á»£c cung cáº¥p bá»Ÿi gÃ³i **`mlocate`**. Báº¡n cÃ³ thá»ƒ thiáº¿t láº­p **`mlocate`** báº±ng cÃ¡ch sá»­ dá»¥ng **`apt-get`** hoáº·c **`yum`**.

Trong há»‡ thá»‘ng dá»±a trÃªn**Debian**:

```shell
$ sudo apt-get install mlocate
```

Trong há»‡ thá»‘ng dá»±a trÃªn **Red-Hat**:

```shell
$ yum install mlocate
```

---

## 3. Tiá»‡n Ã­ch táº¡o password tá»‘t nháº¥t

**`apg`** hiá»ƒn thá»‹ 6 máº­t kháº©u cÃ³ thá»ƒ nhá»› dá»±a trÃªn nháº­p vÃ o bÃ n phÃ­m cá»§a báº¡n.  HoÃ n toÃ n ngáº«u nhiÃªn má»™t láº§n cÃ³ thá»ƒ cung cáº¥p vá»›i **`apg -a 1`**, chá»©a 8-10 kÃ½ tá»± hoÃ n toÃ n ngáº«u nhiÃªn.

**`pwgen`** trÃ n ngáº­p **terminal** cá»§a báº¡n vá»›i má»™t bá»™ máº­t kháº©u báº¡n cÃ³ thá»ƒ chá»n má»™t.

Má»™t sá»‘ **flags** bá»• sung:

- **`pwgen 01`**: cho báº¡n má»™t máº­t kháº©u duy nháº¥t thay vÃ¬ toÃ n bá»™ mÃ n hÃ¬nh
- **`pwgen -s`**: sá»­ dá»¥ng thuáº­t toÃ¡n khÃ¡c nhau Ä‘á»ƒ táº¡o thÃªm tÃ­nh báº£o máº­t
- **`pwgen -y`**: thÃªm kÃ½ tá»± Ä‘áº·c biá»‡t vÃ o máº­t kháº©u

Báº¡n cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng **`makepasswd`** nhÆ° sau:

```shell
$ makepasswd -count X -minchars Y
```

Thay tháº¿ **`X`** vá»›i sá»‘ máº­t kháº©u yÃªu cáº§u vÃ  **`Y`** lÃ  Ä‘á»™ dÃ i tá»‘i thiá»ƒu cho Ä‘oáº¡n code trÃªn

Hoáº·c cÅ©ng cÃ³ thá»ƒ sá»­ dá»¥ng cÃ¡ch nÃ y:

```shell
$ makepasswd -string 1234567890 -chars 4
```

Äiá»u nÃ y sáº½ táº¡o duy nháº¥t sá»‘, máº­t kháº©u dÃ i 4 chá»¯ sá»‘ (cÃ³ thá»ƒ lÃ  **PIN codes**):

---

## 4. TrÃ¬nh táº¡o máº­t kháº©u ngáº«u nhiÃªn

Báº¡n cÃ³ thá»ƒ táº¡o máº­t kháº©u  trong **terminal** vá»›i ráº¥t nhiá»u cÃ¡ch. hai cÃ¡ch trong sá»‘ trong sáº½ Ä‘Æ°á»£c liá»‡t kÃª phÃ­a dÆ°á»›i.

Sá»­ dá»¥ng lá»‡nh **`openssl`**:

```shell
$ openssl rand -base64 32
```

![2020-08-10 18.07.49.gif](https://raw.githubusercontent.com/Zenfection/Image/master/2020/08/10-18-09-43-2020-08-10%2018.07.49.gif)

Trong Ä‘Ã³:

- **`rand`** gá»i **`openssl`** Ä‘á»ƒ táº¡o ná»‘i tiáº¿p ngáº«u nhiÃªn
- **`base64`** gá»i **`openssl`** Ä‘á»ƒ Ä‘Æ°a Ä‘áº§u ra lÃ  *base64-encode*
- **`32`** gá»i **`openssl`** lÃ  random ná»‘i tiáº¿p 32 bytes

Sá»­ dá»¥ng lá»‡nh **`pwgen`**:

```shell
$ pwgen -s 40
```

![2020-08-10 18.13.33.gif](https://raw.githubusercontent.com/Zenfection/Image/master/2020/08/10-18-17-06-2020-08-10%2018.13.33.gif)

Bá»Ÿi máº·c Ä‘á»‹nh **`pwgen`** táº¡o máº­t kháº©u cÃ³ thá»ƒ phÃ¡t ra Ã¢m thanh. Tuá»³ chá»n **`-s`** gá»i **`pwgen`** táº¡o hoÃ n toÃ n ngáº«u nhiÃªn, báº£o máº­t máº­t kháº©u (chá»‰ chá»©a cÃ¡c chá»¯ cÃ¡i lÃ  sá»‘). **`40`** tá»©c lÃ  Ä‘á»™ dÃ i máº­t kháº©u mÃ  báº¡n táº¡o.

Sá»­ dá»¥ng tuá»³ chá»n **`-y`** gá»i **`pwgen`** bao gá»“m biá»ƒu tÆ°á»£ng trong **password** nhÆ° sau:

```shell
$ pwgen -s -y 40
```

![2020-08-10 18.17.28.gif](https://raw.githubusercontent.com/Zenfection/Image/master/2020/08/10-18-18-14-2020-08-10%2018.17.28.gif)

### TÃ¬m hiá»ƒu thÃªm

| ğŸŒÂ [Base 64 lÃ  gÃ¬](https://viblo.asia/p/base64-nhung-dieu-ban-can-biet-3P0lPePp5ox) | ğŸ“ [HÆ°á»›ng dáº«n sá»­ dá»¥ng Openssl](https://www.openssl.org/docs/man1.0.2/man1/rand.html) |
| ----------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------ |

---

## 5. TÃ¬m quÃ¡ trÃ¬nh khÃ´ng chÃ­nh xÃ¡c ngÄƒn cáº£n xoÃ¡ files

ÄÃ´i lÃºc báº¡n Ä‘ang xoÃ¡ má»™t **file**, nÃ³ hiá»‡n lÃªn lá»—i *"File is already in use"*, ráº¯c rá»‘i hÆ¡n ná»¯a lÃ  Ä‘á»‹nh vá»‹ quÃ¡ trÃ¬nh Ä‘ang sá»­ dá»¥ng file Ä‘Ã³.

Äá»ƒ tÃ¬m báº¥t ká»³ quÃ¡ trÃ¬nh Ä‘ang sá»­ dá»¥ng **file** nÃ o, báº¡n cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh **`fuser`**:

```shell
fuser -k filename
```

CÃ¢u lá»‡nh trÃªn sáº½ tÃ¬m kiáº¿m **file** vÃ  **kill** báº¥t ká»³ quÃ¡ trÃ¬nh nÃ o Ä‘ang sá»­ dá»¥ng nÃ³

### TÃ¬m hiá»ƒu thÃªm

| ğŸŒÂ [Lá»‡nh fuser](http://linux.die.net/man/1/fuser) |
| ------------------------------------------------- |

| ğŸ”™ [BÃ i 17.CÃ´ng cá»¥ Pipelines](https://github.com/Zenfection/Linux-for-babies/blob/master/USER%20%26%20FILE%20MANAGEMENT/17.Pipeline%20tools.md) |
| ----------------------------------------------------------------------------------------------------------------------------------------------- |
