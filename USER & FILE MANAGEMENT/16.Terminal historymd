## L·ªãch s·ª≠ Terminal

# 1. L·ªãch s·ª≠ t√¨m ki·∫øm c·ªßa **`bash`**

B·∫°n c√≥ th·ªÉ t√¨m ki·∫øm l·ªãch s·ª≠ **`bash`** b·∫±ng c√°ch s·ª≠ d·ª•ng **`CTRL+R`**. 

**V√≠ d·ª•:** qu√©t b·ªüi *nano yields*

```shell
(reserve-i-search)'nano':
    sudo nano /etc/resolv.conf
```

N√≥ t√¨m ki·∫øm m·ªçi ph·∫ßn c·ªßa l·ªánh (c·∫£ comment n·ªØa) v√† hi·ªÉn th·ªã l·∫ßn g·∫ßn ƒë√¢y nh·∫•t.

ƒê·ªÉ xoay v√≤ng c√°c l·ª±a ch·ªçn thay th·∫ø h√£y nh·∫•n gi·ªØ **`CTRL+R`**.

---

## 2. Gi·ªØ l·ªánh h·ªØu √≠ch trong l·ªãch s·ª≠ shell c·ªßa b·∫°n v·ªõi **`tags`**

L·ªánh **Tag** tham kh·∫£o trong t∆∞∆°ng lai:

```shell
$ some_command 
    -some_flag some_path #useful
```

Sau ƒë√≥ n√≥ c√≥ th·ªÉ t√¨m ki·∫øm **`bash`** c·ªßa b·∫°n v·ªõi **`CTRL+R`**:

```shell
$ some_command
    -some_flag some_path #useful
bck-i-search: useful
```

M·∫∑c d√π **`#useful`** ch·ªâ s·ª≠ d·ª•ng l√† comment trong **`bash`**, b·∫°n kh√¥ng b·ªã gi·ªõi h·∫°n b·ªüi t·ª´ n√†y. B·∫°n c≈©ng c√≥ th·ªÉ ch·ªâ t√¨m ki·∫øm cho l·ªánh r·∫±ng b·∫°n s·ª≠ d·ª•ng n√≥ g·∫ßn ƒë√¢y. V√¨ th·∫ø, t·∫°o **tags** c√≥ th·ªÉ ti·∫øt ki·ªám th·ªùi gian c·ªßa b·∫°n r·∫•t nhi·ªÅu.

```shell
$ some_command
    -some_flag some_path #useful
bck-i-search: some command
```

L·ªãch s·ª≠ l·ªánh ƒë∆∞·ª£c l∆∞u trong **file** **``~/.bash_history``**. Khi n√≥ ƒë·∫°t gi·ªõi h·∫°n, l·ªánh ƒë·∫ßu ti√™n tr·ªçng n√≥ s·∫Ω b·ªã xo√° ƒë·ªÉ ch·ª©a l·ªánh ti·∫øp theo. M·∫∑c ƒë·ªãnh l√† gi·ªõi h·∫°n 500 l·ªánh, nh∆∞ng n·∫øu b·∫°n mu·ªën th√¨ b·∫°n c√≥ th·ªÉ s·ª≠a ƒë·ªïi **`HISTFILESIZE`** (con s·ªë t·ªëi ƒëa c·ªßa file c√≥ th·ªÉ ch·ª©a l·ªãch s·ª≠ **file**) v√† **`HISTSIZE`** (s·ªë c·ªßa l·ªánh ƒë·ªÉ nh·ªõ trong l·ªãch s·ª≠ c√°c l·ªánh) : bi·∫øn ƒë·ªÉ thay ƒë·ªïi s·ª≠ gi·ªõi h·∫°n 500 d√≤ng l·ªánh ƒë√≥. B·∫°n c√≥ th·ªÉ t√¨m bi·∫øn ƒë√≥ ·ªü trong **file** **``~/.profile``** ho·∫∑c **``~/.bash_profile``**.

### T√¨m hi·ªÉu th√™m

| üåè [Bash History](https://lukas.zapletalovi.com/2013/03/never-lost-your-bash-history-again.html) |
| ------------------------------------------------------------------------------------------------ |

---

## 3.Th·ª±c thi l·ªánh m√† kh√¥ng c√≥ l∆∞u n√≥ trong l·ªãch s·ª≠

Th√™m m·ªôt ho·∫∑c nhi·ªÅu kho·∫£ng c√°ch tr∆∞·ªõc khi l·ªánh c·ªßa b·∫°n s·∫Ω cho k·∫øt qu·∫£ trong **`history`** kh√¥ng ghi l·∫°i n√≥.

N√≥ s·∫Ω h·ªØu d·ª•ng cho **passwords** (k·∫øt n·ªëi mySQL) tr√™n d√≤ng l·ªánh.

**V√≠ d·ª•:**¬†¬†¬†¬†

```shell
$ echo 1
1
$  echo 2
2
$ echo 3
3
$ history
    ...
    501 echo 1
    502 echo 3
    503 history
```

ƒêi·ªÅu n√†y s·∫Ω kh√¥ng ho·∫°t ƒë·ªông b·ªüi m·∫∑c ƒë·ªãnh m·ªôt s·ªë thi·∫øt l·∫≠p c·ªßa **`shell`**.

---

## 4. Terminal ·∫©n danh

ƒê·ªÉ t·∫Øt d√≤ng l·ªánh ƒëƒÉng nh·∫≠p v√†o **Terminal** m·ªôt c√°ch t·∫°m th·ªùi, h√£y s·ª≠ l·ªánh 1 trong 2 l√™nh sau:

```shell
$ set +o history
```

```shell
$ shopt -uo history
```

ƒê·ªÉ b·∫≠t n√≥ tr·ªü l·∫°i, h√£y ch·∫°y 1 trong 2 l·ªánh sau:

```shell
$ set -o history
```

```shell
$ shopt -so history
```

S·ª± kh√°c nhau c·ªßa 2 d√≤ng l·ªánh l√† kh√¥ng ƒë√°ng k·ªá, c·∫£ 2 ƒë·ªÅu s·ª≠a l·ªói h√†nh vi tu·ª≥ ch·ªçn c·ªßa **`shell`**.

---


