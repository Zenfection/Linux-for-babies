# Quáº£n lÃ­ ngÆ°á»i dÃ¹ng

## 1. ThÃªm ngÆ°á»i dÃ¹ng má»›i báº±ng **`useradd`**

ChÃºng ta cÃ³ thá»ƒ sá»­ dá»¥ng lá»‡nh **`useradd`** Ä‘á»ƒ thÃªm accounts há»‡ thá»‘ng cho ngÆ°á»i dÃ¹ng má»›i. Thá»±c hiá»‡n Ä‘iá»u Ä‘Ã³ Ä‘Æ¡n giáº£n nhÆ° sau:

```shell
$ sudo useradd -m newuser
```

**`newuser`** lÃ  tÃªn ngÆ°á»i dÃ¹ng mÃ  báº¡n chá»n. CÃ²n **`-m`** lÃ  tÃ­nh nÄƒng gá»i **`useradd`** táº¡o home directory má»›i. Báº¡n sáº½ cáº§n quyá»n **`root`** Ä‘á»ƒ thÃªm ngÆ°á»i dÃ¹ng má»›i vÃ¬ tháº¿ báº¡n dÃ¹ng **`sudo`**

Bá»Ÿi máº·c Ä‘á»‹nh ngÆ°á»i dÃ¹ng má»›i sáº½ khÃ´ng cÃ³ **password assigned** vÃ  vÃ¬ tháº¿ nÃªn báº¡n khÃ´ng thá»ƒ Ä‘Äƒng nháº­p Ä‘Æ°á»£c. HÃ£y sá»­ dá»¥ng lá»‡nh **`passwd`** Ä‘á»ƒ táº¡o má»™t **password** má»›i cho ngÆ°á»i dÃ¹ng nhÆ° sau: 

```shell
$ sudo passwd newuser
```

Náº¿u báº¡n muá»‘n ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c thÃªm vÃ o má»™t **group** cá»¥ thá»ƒ nÃ o Ä‘Ã³ hÃ£y thÃªm **-G** nhÆ° sau:

```shell
$ sudo useradd -m -G admin newuser
```

Báº¡n thay tháº¿ **`newuser`** lÃ  tÃªn báº¡n muá»‘n táº¡o vÃ  **`admin`** lÃ  tÃªn **group** báº¡n muá»‘n thÃªm.

### ChÃº Ã½ trong há»‡ thá»‘ng Debian

Trong há»‡ thá»‘ng Debian, khuyÃªn báº¡n nÃªn dÃ¹ng lá»‡nh **`adduser`** tá»‘t hÆ¡n lÃ  **`useradd`**. Bá»Ÿi vÃ¬ **`adduser`** thÃ¢n thiá»‡n ngÆ°á»i dÃ¹ng trong khi Ä‘Ã³ thÃ¬ **`useradd`** ráº¥t khÃ³ sá»­ dá»¥ng, máº·c dÃ¹ cáº£ 2 cÅ©ng cÃ³ chá»©c nÄƒng nhÆ° nhau. Sá»­ dá»¥ng **`adduser`** sáº½ háº¡n cháº¿ tá»‘i Ä‘a lá»—i láº§m do ngÆ°á»i dÃ¹ng máº¯c pháº£i.

## 2. Äá»•i password ngÆ°á»i dÃ¹ng vá»›i **`passwd`**

Äá»ƒ Ä‘á»•i password Ä‘á»•i ngÆ°á»i bao gá»“m cá»§a chá»§ sá»Ÿ há»¯u, hÃ£y sá»­ dá»¥ng lá»‡nh **`passwd`**.

Äá»ƒ Ä‘á»•i **password** chá»§ sá»Ÿ há»¯u, Ä‘Æ¡n giáº£n cháº¡y lá»‡nh **`passwd`** mÃ  khÃ´ng cáº§n báº¥t ká»³ Ä‘á»‘i sá»‘ nÃ o khÃ¡c. Báº¡n sáº½ Ä‘Æ°á»£c yÃªu cáº§u nháº­p **password** hiá»‡n táº¡i cá»§a báº¡n vÃ  sau Ä‘Ã³ nháº­p **password** má»›i vÃ  xÃ¡c nháº­n nÃ³. Báº¡n khÃ´ng cáº§n cÃ³ quyá»n **`root`** Ä‘á»ƒ Ä‘á»•i **password** chá»§ sá»Ÿ há»¯u nÃªn báº¡n khÃ´ng cáº§n sá»­ dá»¥ng lá»‡nh **`sudo`**.

Äá»ƒ Ä‘á»•i **password** ngÆ°á»i dÃ¹ng khÃ¡c, cung cáº¥p **username** cho lá»‡nh **`passwd`**. Báº¡n cáº§n pháº£i cÃ³ quyá»n **`root`** Ä‘á»ƒ thay Ä‘á»•i **password** cá»§a ngÆ°á»i dÃ¹ng. nÃªn cáº§n sá»­ dá»¥ng lá»‡nh **`sudo`** nhÆ° sau:

```shell
$ sudo passwd kietdeptrai
```

Lá»‡nh trÃªn sáº½ thay Ä‘á»•i **password** cá»§a ngÆ°á»i  ngÆ°á»i dÃ¹ng tÃªn lÃ  **`kietdeptrai`**.

CÃ³ ráº¥t nhiá»u lá»±a chá»n cÃ³ sáºµn cho **`passwd`**, nhÆ° lÃ  yÃªu cáº§u ngÆ°á»i dÃ¹ng Ä‘á»•i **`password`** vá»›i sá»‘ ngÃ y nháº¥t Ä‘á»‹nh. Buá»™c ngÆ°á»i dÃ¹ng Ä‘á»•i máº­t kháº©u khi háº¿t háº¡n dÃ¹ng... 

Náº¿u báº¡n muá»‘n Ä‘á»c thÃªm cÃ¡ch dÃ¹ng **`passwd`** hÃ£y gÃµ lá»‡nh sau:

```shell
$ man passwd
```

---

## 3. CÃ¡ch thá»©c quáº£n lÃ­ ngÆ°á»i dÃ¹ng khÃ¡c

Äá»ƒ xem táº¥t cáº£ danh sÃ¡ch ngÆ°á»i dÃ¹ng, sá»­ dá»¥ng lá»‡nh:

```shell
$ cut -d: -f1 /etc/passwd
```

Äá»ƒ xoÃ¡ ngÆ°á»i dÃ¹ng, sá»­ dá»¥ng lá»‡nh:

```shell
$ userdel newuser
```

Äá»ƒ xoÃ¡ home directory cá»§a ngÆ°á»i dÃ¹ng, sá»­ dá»¥ng lá»‡nh:

```shell
$ rm -r /home/newuser
```

Hoáº·c sá»­ dá»¥ng **`-r`** Ä‘á»ƒ xoÃ¡ account vÃ  home directory nhÆ° sau:

```shell
$ userdel -r newuser
```

Thay Ä‘á»•i **password** ngÆ°á»i dÃ¹ng, sá»­ dá»¥ng lá»‡nh:

```shell
$ passwd username
```

Thay Ä‘á»•i **`shell`** cho ngÆ°á»i dÃ¹ng, sá»­ dá»¥ng lá»‡nh:

```shell
$ chsh username
```

Äá»ƒ thay Ä‘á»•i chi tiáº¿t mÃ´ táº£ ngÆ°á»i dÃ¹ng (nhÆ° lÃ  real name, age...), sá»­ dá»¥ng lá»‡nh:

```shell
$ chfn username
```

---

## 4. Lá»‡nh **`usermod`**

Tiá»‡n Ã­ch khÃ¡c sá»­ dá»¥ng cho quáº£n lÃ­ ngÆ°á»i dÃ¹ng Ä‘Ã³ lÃ  **`usermod`**, cÃº phÃ¡p nhÆ° sau:

```shell
$ usermod [option] [username]
```

NgÆ°á»i dÃ¹ng háº¿t háº¡n Ä‘Æ°á»£c Ä‘á»‹nh nghÄ©a nhÆ° sau **(YYYY-MM-DD)**: 

```shell
$ usermod --expiredate 2021-04-04 newuser
```

Bá»• sung ngÆ°á»i dÃ¹ng vÃ o group, sá»­ dá»¥ng lá»‡nh:

```shell
$ usermod --append --groups newgroup \ newuser
$ usermod --aG newgroup,zengroup newuser
```

Thay Ä‘á»•i home directory máº·c Ä‘á»‹nh, sá»­ dá»¥ng lá»‡nh:

```shell
$ usermod --home /path/to/dir newuser
```

Thay Ä‘á»•i **`shell`** máº·c Ä‘á»‹nh, sá»­ dá»¥ng lá»‡nh:

```shell
$ usermod --shell /path/to/sh newuser
```

Hiá»ƒn thá»‹ ra mÃ n hÃ¬nh **groups** mÃ  user Ä‘ang á»Ÿ: 

```shell
$ groups newuser
$ id newuser
```

VÃ´ hiá»‡u hoÃ¡ ngÆ°á»i dÃ¹ng báº±ng khoÃ¡ **password**:

```shell
$ usermod --lock newnuser
```

Má»Ÿ khoÃ¡ tÃ i khoáº£n báº±ng **password unlock**:

```shell
$ usermod --unlock newuser
```

NhÆ° cÃ¡c báº¡n Ä‘Ã£ tháº¥y, Ä‘Ã¢y lÃ  nhá»¯ng lá»‡nh cÆ¡ báº£n Ä‘á»ƒ giáº£i quyáº¿t nhá»¯ng váº¥n Ä‘á» cÆ¡ báº£n trong quáº£n lÃ­ ngÆ°á»i dÃ¹ng.

---

## 5. Cháº¡y lá»‡nh nhÆ° má»™t ngÆ°á»i dÃ¹ng local khÃ¡c

Äá»ƒ thá»±c thi lá»‡nh nhÆ° ngÆ°á»i dÃ¹ng khÃ¡c, hÃ£y sá»­ dá»¥ng **`sudo`** kÃ¨m Ä‘á»‘i sá»‘ **`-u`** nhÆ° sau:

```shell
$ sudo -u [user] [command]
```

| ğŸ”™ [BÃ i 8.PIPELINES](https://github.com/Zenfection/Linux-for-babies/blob/master/NgÆ°á»i%20dÃ¹ng%20vÃ %20quáº£n%20lÃ­%20file/8.PIPELINES.md) | [BÃ i 10.Quyá»n truy cáº­p ngÆ°á»i dÃ¹ng](https://github.com/Zenfection/Linux-for-babies/blob/master/USER%20%26%20FILE%20MANAGEMENT/10.User%20Permissions.md)Â Â ğŸ”œ |
| ------------------------------------------------------------------------------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------------------------------- |
